publishedWBJP([16],{0:function(t,e,i){t.exports=i(101)},101:function(t,e,i){var s,n;s=[i(1),i(3),i(5),i(51),i(52),i(42),i(249),i(174),i(44),i(242),i(244),i(246),i(245),i(232)],n=function(){}.apply(e,s),!(void 0!==n&&(t.exports=n))},174:function(t,e,i){(function(t){!function(t){function e(t){for(var e=1;e<arguments.length;e++)t=t.replace("%"+(e-1),arguments[e]);return t}function i(i,s){var n=t("img:first",i),o=n,a,r,l=null,c=null,h=null,d=null,u=null,p=null,f,g=0,m=0,v,w,b=0,C=0,y=0,S=0,x=0,E,T,k=this,I;setTimeout(function(){if(null===c){var t=i.width();i.parent().append(e('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',t/3,t/2-t/6)).find(":last").css("opacity",.5)}},200);var O=function(){null!==p&&(p.remove(),p=null)};this.removeBits=function(){h&&(h.remove(),h=null),d&&(d.remove(),d=null),u&&(u.remove(),u=null),O(),t(".cloud-zoom-loading",i.parent()).remove()},this.destroy=function(){i.data("zoom",null),c&&(c.unbind(),c.remove(),c=null),l&&(l.remove(),l=null),this.removeBits()},this.fadedOut=function(){l&&(l.remove(),l=null),this.removeBits()},this.controlLoop=function(){if(h){var t=E-o.offset().left-.5*v>>0,e=T-o.offset().top-.5*w>>0;t<0?t=0:t>o.outerWidth()-v&&(t=o.outerWidth()-v),e<0?e=0:e>o.outerHeight()-w&&(e=o.outerHeight()-w),h.css({left:t,top:e}),h.css("background-position",-t+"px "+-e+"px"),b=t/o.outerWidth()*f.width>>0,C=e/o.outerHeight()*f.height>>0,S+=(b-S)/s.smoothMove,y+=(C-y)/s.smoothMove,l.css("background-position",-(S>>0)+"px "+(-(y>>0)+"px"))}g=setTimeout(function(){k.controlLoop()},30)},this.init2=function(t,e){x++,1===e&&(f=t),2===x&&this.init()},this.init=function(){t(".cloud-zoom-loading",i.parent()).remove(),c=t(".mousetrap",i.parent()),c&&(c.unbind(),c.remove()),c=i.parent().append(e("<div class='mousetrap' style='background-image:url(\"//"+ASSETS_BASE+"/images/blank.gif\");z-index:2;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",o.outerWidth(),o.outerHeight(),0,0)).find(":last"),c.bind("mousemove",this,function(t){E=t.pageX,T=t.pageY}),c.bind("mouseleave",this,function(t){return clearTimeout(g),clearTimeout(m),h&&h.fadeOut(299),d&&d.fadeOut(299),u&&u.fadeOut(299),l&&l.fadeOut(300,function(){k.fadedOut()}),!1});var a=i.attr("href"),r=i.find("img").attr("src");a!=r&&c.bind("mouseenter",this,function(a){m=setTimeout(function(){I=a.data,l&&(l.stop(!0,!1),l.remove());var r=s.adjustX,g=s.adjustY,m=o.outerWidth(),b=o.outerHeight(),C=s.zoomWidth,y=s.zoomHeight;"auto"==s.zoomWidth&&(C=m),"auto"==s.zoomHeight&&(y=b);var S=i.parent();switch(s.position){case"top":g-=y;break;case"right":r+=m;break;case"bottom":g+=b;break;case"left":r-=C;break;case"inside":C=m,y=b;break;default:S=t("#"+s.position),S.length?(C=S.innerWidth(),y=S.innerHeight()):(S=i,r+=m,g+=b)}l=S.append(e('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:1;"></div>',r,g,C,y,f.src)).find(":last"),n.attr("title")&&s.showTitle&&l.append(e('<div class="cloud-zoom-title">%0</div>',n.attr("title"))).find(":last").css("opacity",s.titleOpacity),t.browser.msie&&t.browser.version<7&&(p=t('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:r,top:g,zIndex:1,width:C,height:y}).insertBefore(l)),l.fadeIn(500),h&&(h.remove(),h=null),v=o.outerWidth()/f.width*l.width(),w=o.outerHeight()/f.height*l.height(),h=i.append(e("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",v,w)).find(":last"),c.css("cursor",h.css("cursor"));var x=!1;s.tint&&(h.css("background",'url("'+n.attr("src")+'")'),d=i.append(e('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',o.outerWidth(),o.outerHeight(),s.tint)).find(":last"),d.css("opacity",s.tintOpacity),x=!0,d.fadeIn(500)),s.softFocus&&(h.css("background",'url("'+n.attr("src")+'")'),u=i.append(e('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',o.outerWidth()-2,o.outerHeight()-2,s.tint)).find(":last"),u.css("background",'url("'+n.attr("src")+'")'),u.css("opacity",.5),x=!0,u.fadeIn(500)),x||h.css("opacity",s.lensOpacity),"inside"!==s.position&&h.fadeIn(500),I.controlLoop()},250)})},a=new Image,t(a).load(function(){k.init2(this,0)}),a.src=n.attr("src"),r=new Image,t(r).load(function(){k.init2(this,1)}),r.src=i.attr("href")}t.fn.CloudZoom=function(e){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}return this.each(function(){var s,n=t(this);if(n.is(".cloud-zoom")){n.css({position:"relative",display:"block"}),t("img",n).css({display:"block"}),"cloudzoom-wrap"!=t(this).parent().attr("id")&&t(this).wrap('<div id="cloudzoom-wrap" style="top:0px;position:relative;"></div>'),s=t.extend({},t.fn.CloudZoom.defaults,e);var o={adjustX:"int",adjustY:"int",zoomWidth:"int",zoomHeight:"int",position:"string",tint:"string",tintOpacity:"float",lensOpacity:"float",softFocus:"bool",smoothMove:"int",showTitle:"bool",titleOpacity:"float"};for(var a in o){var r=t(this).attr("data-"+a);if(r)switch(o[a]){case"int":case"float":s[a]=Number(r);break;case"bool":s[a]=Boolean(r);break;case"string":default:s[a]=r}}t(this).data("zoom",new i(t(this),s))}else t(this).is(".cloud-zoom-gallery")&&(s=t.extend({},{useZoom:t(this).attr("data-zoom-id"),smallImage:t(this).attr("data-small-image")},e),t(this).data("relOpts",s),t(this).bind("click",t(this),function(e){var i=e.data,n=i.data("relOpts"),o=t("#"+n.useZoom+" div.wsite-show").add("#"+n.useZoom+" div.wsite-show-init");return t("#"+n.useZoom).data("zoom").destroy(),t("#"+n.useZoom).attr("href",i.attr("href")),t("#"+n.useZoom+" img").attr("src",n.smallImage),t("#"+n.useZoom).CloudZoom(s),!1}))}),this},t.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(t)}).call(e,i(1))},232:function(t,e,i){var s,n;s=[i(2),i(44)],n=function(t){t.Commerce=t.Commerce||{},t.Commerce.Site=t.Commerce.Site||{},window.initCommerceModels&&window.initCommerceModels()}.apply(e,s),!(void 0!==n&&(t.exports=n))},242:function(t,e,i){var s,n;s=[i(3),i(2),i(7),i(24)],n=function(t,e,i,s){t.extend(i.Validation.validators,{in:function(){return i.Validation.validators.oneOf.apply(this,arguments)},email:function(t,i,n){if(!s.isValidEmail(t))return this.format(e.stl("javascript.util.backbone-validators_1"),this.formatLabel(i,n))},maxlength:i.Validation.validators.maxLength,minlength:i.Validation.validators.minLength}),t.extend(i.Validation.messages,{required:e.stl("javascript.validation.required"),acceptance:e.stl("javascript.validation.accepted"),min:e.stl("javascript.validation.min"),max:e.stl("javascript.validation.max"),range:e.stl("javascript.validation.range"),length:e.stl("javascript.validation.length"),minLength:e.stl("javascript.validation.charMin"),maxLength:e.stl("javascript.validation.charMax"),rangeLength:e.stl("javascript.validation.charRange"),oneOf:e.stl("javascript.validation.oneOf"),equalTo:e.stl("javascript.validation.equal"),digits:e.stl("javascript.validation.digits"),number:e.stl("javascript.validation.number"),int:e.stl("javascript.validation.int"),email:e.stl("javascript.validation.email"),url:e.stl("javascript.validation.url"),domain:e.stl("javascript.validation.domain"),inlinePattern:e.stl("javascript.validation.inline")})}.apply(e,s),!(void 0!==n&&(t.exports=n))},244:function(t,e){!function(t){t.Event.prototype.stop=function(){this.preventDefault(),this.stopPropagation()},t.fn.extend({getValue:function(){var t=this;return"checkbox"===t.attr("type")||"radio"===t.attr("type")?t.prop("checked"):t.is(":input")?t.val():t.html()},setValue:function(t){var e=this;return"checkbox"===e.attr("type")||"radio"===e.attr("type")?e.prop("checked",!!t):e.is(":input")?e.val(null==t||void 0==t?"":t):e.html("string"==typeof t?t:""),e},getValues:function(e){e=e||"";var i={};return this.find(":input,.input").each(function(){var s=t(this),n=s.attr("name")||s.attr("id");n&&0===n.indexOf(e)&&(n=n.substring(e.length),i[n]=s.getValue())}),i},setValues:function(e,i){i=i||"";var s,n;return this.find(":input,.input").each(function(){var s=t(this),n=s.attr("name")||s.attr("id");n&&0===n.indexOf(i)&&(n=n.substring(i.length),s.setValue(e[n]))}),this},equals:function(t){return this.data()===t.data()},padInput:function(e){var i,s="auto",n="auto";return e=e||"all",this.each(function(o,a){i=t(a),"ns"!==e&&"all"!==e||(s=Math.floor((i.parent().height()-i.height())/2)),"ew"!==e&&"all"!==e||(n=Math.floor((i.parent().width()-i.width())/2)),i.css({"padding-top":s,"padding-right":n,"padding-bottom":s,"padding-left":n})}),this}})}(window.jQuery),"undefined"==typeof JSON&&(window.JSON={stringify:Object.toJSON,parse:function(t){return(t||"").evalJSON()}}),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=Array.prototype.slice.call(arguments,1);return function(){var s=Array.prototype.slice.call(arguments);return e.apply(t,i.concat(s))}}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,s=this.length;i<s;++i)i in this&&t.call(e,this[i],i,this)}),Array.prototype.find||(Array.prototype.find=function(t,e){for(var i=0,s=this.length;i<s;++i){var n=this[i];if(t.call(e,n))return n}return null}),Array.prototype.push||(Array.prototype.push=function(t){this[this.length]=t}),Object.defineProperty(Array.prototype,"remove",{value:function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=t<0?this.length+t:t,this.push.apply(this,i)},enumerable:!1,configurable:!0}),String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})}},245:function(t,e,i){(function(t){!function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var i=t([0]),s=-1,n=this.length;++s<n&&(i.context=i[0]=this[s])&&e.call(i[0],s,i)!==!1;);return this}})}(t),function(t,e){"use strict";function i(t,e){for(var i=0,s=e.length;i<s;i+=1)if(n(t,e[i]))return i;return-1}function s(){var e=t(z);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function n(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function o(e,i){var s,n,o;if(null===e||e.length<1)return[];for(s=e.split(i),n=0,o=s.length;n<o;n+=1)s[n]=t.trim(s[n]);return s}function a(t){return t.outerWidth(!1)-t.width()}function r(i){var s="keyup-change-value";i.on("keydown",function(){t.data(i,s)===e&&t.data(i,s,i.val())}),i.on("keyup",function(){var n=t.data(i,s);n!==e&&i.val()!==n&&(t.removeData(i,s),i.trigger("keyup-change"))})}function l(i){i.on("mousemove",function(i){var s=N;s!==e&&s.x===i.pageX&&s.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})}function c(t,i,s){s=s||e;var n;return function(){var e=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(s,e)},t)}}function h(t){var e=!1,i;return function(){return e===!1&&(i=t(),e=!0),i}}function d(t,e){var s=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){i(t.target,e.get())>=0&&s(t)})}function u(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e=t[0],i=t.val().length,s;t.focus(),t.is(":visible")&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(i,i):e.createTextRange&&(s=e.createTextRange(),s.collapse(!1),s.select()))},0)}function p(e){e=t(e)[0];var i=0,s=0;if("selectionStart"in e)i=e.selectionStart,s=e.selectionEnd-i;else if("selection"in document){e.focus();var n=document.selection.createRange();s=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),i=n.text.length-s}return{offset:i,length:s}}function f(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function m(e){if(!M){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);M=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),t("body").append(M)}return M.text(e.val()),M.width()}function v(e,i,s){var n,o=[],a;n=e.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),n=i.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(a=s(this),a&&o.push(this))})),e.attr("class",o.join(" "))}function w(t,e,i,s){var n=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return n<0?void i.push(s(t)):(i.push(s(t.substring(0,n))),i.push("<span class='select2-match'>"),i.push(s(t.substring(n,n+o))),i.push("</span>"),void i.push(s(t.substring(n+o,t.length))))}function b(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function C(i){var s,n=0,o=null,a=i.quietMillis||100,r=i.url,l=this;return function(c){window.clearTimeout(s),s=window.setTimeout(function(){n+=1;var s=n,a=i.data,h=r,d=i.transport||t.fn.select2.ajaxDefaults.transport,u={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,u);a=a?a.call(l,c.term,c.page,c.context):null,h="function"==typeof h?h.call(l,c.term,c.page,c.context):h,o&&o.abort(),i.params&&(t.isFunction(i.params)?t.extend(p,i.params.call(l)):t.extend(p,i.params)),t.extend(p,{url:h,dataType:i.dataType,data:a,success:function(t){if(!(s<n)){var e=i.results(t,c.page);c.callback(e)}}}),o=d.call(l,p)},a)}}function y(e){var i=e,s,n,o=function(t){return""+t.text};t.isArray(i)&&(n=i,i={results:n}),t.isFunction(i)===!1&&(n=i,i=function(){return n});var a=i();return a.text&&(o=a.text,t.isFunction(o)||(s=a.text,o=function(t){return t[s]})),function(e){var s=e.term,n={results:[]},a;return""===s?void e.callback(i()):(a=function(i,n){var r,l;if(i=i[0],i.children){r={};for(l in i)i.hasOwnProperty(l)&&(r[l]=i[l]);r.children=[],t(i.children).each2(function(t,e){a(e,r.children)}),(r.children.length||e.matcher(s,o(r),i))&&n.push(r)}else e.matcher(s,o(i),i)&&n.push(i)},t(i().results).each2(function(t,e){a(e,n.results)}),void e.callback(n))}}function S(i){var s=t.isFunction(i);return function(n){var o=n.term,a={results:[]};t(s?i():i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===o||n.matcher(o,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function x(e,i){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(i+" must be a function or a falsy value")}function E(e){return t.isFunction(e)?e():e}function T(e){var i=0;return t.each(e,function(t,e){e.children?i+=T(e.children):i++}),i}function k(t,i,s,o){var a=t,r=!1,l,c,h,d,u;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(c=-1,h=0,d=o.tokenSeparators.length;h<d&&(u=o.tokenSeparators[h],c=t.indexOf(u),!(c>=0));h++);if(c<0)break;if(l=t.substring(0,c),t=t.substring(c+u.length),l.length>0&&(l=o.createSearchChoice.call(this,l,i),l!==e&&null!==l&&o.id(l)!==e&&null!==o.id(l))){for(r=!1,h=0,d=i.length;h<d;h++)if(n(o.id(l),o.id(i[h]))){r=!0;break}r||s(l)}}return a!==t?t:void 0}function I(e,i){var s=function(){};return s.prototype=new e,s.prototype.constructor=s,s.prototype.parent=e.prototype,s.prototype=t.extend(s.prototype,i),s}if(window.Select2===e){var O,P,A,R,D,M,N={x:0,y:0},H,j,O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&t<=123}},z="<div class='select2-measure-scrollbar'></div>";H=t(document),D=function(){var t=1;return function(){return t++}}(),H.on("mousemove",function(t){N.x=t.pageX,N.y=t.pageY}),P=I(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,o,a=".select2-results",c,u;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return i.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(E(i.containerCss)),this.container.addClass(E(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(E(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(a),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",a,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var o=n.scrollTop(),a;s>0&&o-s<=0?(n.scrollTop(0),f(t)):s<0&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),f(t))}),r(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var c=i.element.prop("disabled");c===e&&(c=!1),this.enable(!c);var u=i.element.prop("readonly");u===e&&(u=!1),this.readonly(u),j=j||s(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var t=this.opts.element,i=t.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==e&&(i.container.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:n(t.attr("locked"),"locked")||n(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var s,a,r,l,c=this;if(s=i.element,"select"===s.get(0).tagName.toLowerCase()&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(s,n,o){var a,r,l,h,d=this.opts.id;(a=function(s,n,r){var l,h,u,p,f,g,m,v,w,b;for(s=i.sortResults(s,n,o),l=0,h=s.length;l<h;l+=1)u=s[l],f=u.disabled===!0,p=!f&&d(u)!==e,g=u.children&&u.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+r),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(u)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(u,v,o,c.opts.escapeMarkup),b!==e&&v.html(b),m.append(v),g&&(w=t("<ul></ul>"),w.addClass("select2-result-sub"),a(u.children,w,r+1),m.append(w)),m.data("select2-data",u),n.append(m)})(n,s,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(r=i.id,i.id=function(t){return t[r]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(a?(i.query=this.bind(function(t){var i={results:[],more:!1},n=t.term,o,a,r;r=function(e,i){var s;e.is("option")?t.matcher(n,e.text(),e)&&i.push(c.optionToData(e)):e.is("optgroup")&&(s=c.optionToData(e),e.children().each2(function(t,e){r(e,s.children)}),s.children.length>0&&i.push(s))},o=s.children(),this.getPlaceholder()!==e&&o.length>0&&(a=this.getPlaceholderOption(),a&&(o=o.not(a))),o.each2(function(t,e){r(e,i.results)}),t.callback(i)}),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=C.call(i.element,i.ajax)):"data"in i?i.query=y(i.data):"tags"in i&&(i.query=S(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(t){return{id:t,text:t}}),i.initSelection===e&&(i.initSelection=function(e,s){var a=[];t(o(e.val(),i.separator)).each(function(){var e=this,s=this,o=i.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){if(n(this.id,e))return s=this.text,!1}),a.push({id:e,text:s})}),s(a)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t=this.opts.element,i;t.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),i=this.bind(function(){var i,s,n=this,o=t.prop("disabled");o===e&&(o=!1),this.enable(!o);var s=t.prop("readonly");s===e&&(s=!1),this.readonly(s),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass))}),t.on("propertychange.select2 DOMAttrModified.select2",i),this.mutationCallback===e&&(this.mutationCallback=function(t){t.forEach(i)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new window.WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){return t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface(),!0)},readonly:function(t){return t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e=this.dropdown,i=this.container.offset(),s=this.container.outerHeight(!1),n=this.container.outerWidth(!1),o=e.outerHeight(!1),a=t(window).scrollLeft()+t(window).width(),r=t(window).scrollTop()+t(window).height(),l=i.top+s,c=i.left,h=l+o<=r,d=i.top-o>=this.body().scrollTop(),u=e.outerWidth(!1),p=c+u<=a,f=e.hasClass("select2-drop-above"),g,m,v,w;this.opts.dropdownAutoWidth?(w=t(".select2-results",e)[0],e.addClass("select2-drop-auto-width"),e.css("width",""),u=e.outerWidth(!1)+(w.scrollHeight===w.clientHeight?0:j.width),u>n?n=u:u=n,p=c+u<=a):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(g=this.body().offset(),l-=g.top,c-=g.left),f?(m=!0,!d&&h&&(m=!1)):(m=!1,!h&&d&&(m=!0)),p||(c=i.left+n-u),m?(l=i.top-o,this.container.addClass("select2-drop-above"),e.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),e.removeClass("select2-drop-above")),v=t.extend({top:l,left:c,width:n},E(this.opts.dropdownCss)),e.css(v)},shouldOpen:function(){var e;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var i=this.containerId,s="scroll."+i,n="resize."+i,o="orientationchange."+i,a,r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),a=t("#select2-drop-mask"),0==a.length&&(a=t(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),a.on("mousedown touchstart click",function(e){var i=t("#select2-drop"),s;i.length>0&&(s=i.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),r=e(),a.css(r).show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var l=this;this.container.parents().add(window).each(function(){t(this).on(n+" "+s+" "+o,function(i){var s=e();t("#select2-drop-mask").css(s),l.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,s="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(s).off(n)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e=this.results,i,s,n,o,a,r,l;if(s=this.highlight(),!(s<0)){if(0==s)return void e.scrollTop(0);i=this.findHighlightableChoices().find(".select2-result-label"),n=t(i[s]),o=n.offset().top+n.outerHeight(!0),s===i.length-1&&(l=e.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight(!0))),a=e.offset().top+e.outerHeight(!0),o>a&&e.scrollTop(e.scrollTop()+(o-a)),r=n.offset().top-e.offset().top,r<0&&"none"!=n.css("display")&&e.scrollTop(e.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),s=this.highlight();s>-1&&s<i.length;){s+=e;var n=t(i[s]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(e){var s=this.findHighlightableChoices(),n,o;return 0===arguments.length?i(s.filter(".select2-highlighted")[0],s.get()):(e>=s.length&&(e=s.length-1),e<0&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),n=t(s[e]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=n.data("select2-data"),void(o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(i))}else 0==i.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i,s=-1,n=this.resultsPage+1,o=this,a=this.search.val(),r=this.context;0!==e.length&&(i=e.offset().top-t.offset().top-t.height(),i<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(i){o.opened()&&(o.opts.populateResults.call(this,t,i.results,{term:a,page:n,context:r}),o.postprocessResults(i,!1,!1),i.more===!0?(e.detach().appendTo(t).text(o.opts.formatLoadMore(n+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):e.remove(),o.positionDropdown(),o.resultsPage=n,o.context=i.context)})})))},tokenize:function(){},updateResults:function(i){function s(){a.removeClass("select2-active"),h.positionDropdown()}function o(t){r.html(t),s()}var a=this.search,r=this.results,l=this.opts,c,h=this,d,u=a.val(),p=t.data(this.container,"select2-last-term");if((i===!0||!p||!n(u,p))&&(t.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(c=this.data(),t.isArray(c)&&c.length>=f&&x(l.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(f)+"</li>");if(a.val().length<l.minimumInputLength)return o(x(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+l.formatInputTooShort(a.val(),l.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&a.val().length>l.maximumInputLength)return void o(x(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+l.formatInputTooLong(a.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+l.formatSearching()+"</li>"),a.addClass("select2-active"),d=this.tokenize(),d!=e&&null!=d&&a.val(d),this.resultsPage=1,l.query({element:l.element,term:a.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(c){var d;return this.opened()?(this.context=c.context===e?null:c.context,this.opts.createSearchChoice&&""!==a.val()&&(d=this.opts.createSearchChoice.call(h,a.val(),c.results),d!==e&&null!==d&&h.id(d)!==e&&null!==h.id(d)&&0===t(c.results).filter(function(){return n(h.id(this),h.id(d))}).length&&c.results.unshift(d)),0===c.results.length&&x(l.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+l.formatNoMatches(a.val())+"</li>"):(r.empty(),h.opts.populateResults.call(this,r,c.results,{
term:a.val(),page:this.resultsPage,context:null}),c.more===!0&&x(l.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(c,i),s(),void this.opts.element.trigger({type:"select2-loaded",items:c}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted"),s=i.closest(".select2-result").data("select2-data");s?(this.highlight(e),this.onSelect(s,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children().first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function i(){var i,s,n,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==e)for(s=i.split(";"),o=0,a=s.length;o<a;o+=1)if(n=s[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=i.call(this);null!==s&&this.container.css("width",s)}}),A=I(P,{createContainer:function(){var e=t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='icon'>downarrowsmall<b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange?(i=e.createTextRange(),i.collapse(!1),i.select()):e.setSelectionRange&&(s=this.search.val().length,e.setSelectionRange(s,s)),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,i=this.container,s=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)return void f(t);switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void f(t);case O.ENTER:return this.selectHighlighted(),void f(t);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(t),void f(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.ESC){if(this.opts.openOnEnter===!1&&t.which===O.ENTER)return void f(t);if(t.which==O.DOWN||t.which==O.UP||t.which==O.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void f(t)}return t.which==O.DELETE||t.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(t)):void 0}})),r(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(e)})),s.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){f(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){var t;if(this.isPlaceholderOptionSelected())this.updateSelection([]),this.close(),this.setPlaceholder();else{var i=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==e&&null!==t&&(i.updateSelection(t),i.close(),i.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return(t=this.getPlaceholderOption())!==e&&t.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var s=t.find(":selected");e(i.optionToData(s))}:"data"in e&&(e.initSelection=e.initSelection||function(i,s){var o=i.val(),a=null;e.query({matcher:function(t,i,s){var r=n(o,e.id(s));return r&&(a=s),r},callback:t.isFunction(s)?function(){s(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var s=0,o=this,a=!0;if(this.findHighlightableChoices().each2(function(t,e){if(n(o.id(e.data("select2-data")),o.opts.element.val()))return s=t,!1}),i!==!1&&(e===!0&&s>=0?this.highlight(s):this.highlight(0)),e===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(T(t.results)>=r)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),n(i,this.id(t))||this.triggerChange({added:t,removed:s})}},updateSelection:function(t){var i=this.selection.find(".select2-chosen"),s,n;this.selection.data("select2-data",t),i.empty(),s=this.opts.formatSelection(t,i,this.opts.escapeMarkup),s!==e&&i.append(s),n=this.opts.formatSelectionCssClass(t,i),n!==e&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,s=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return s=n.optionToData(e),!1}),this.updateSelection(s),this.setPlaceholder(),i&&this.triggerChange({added:s,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),i&&n.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t,i){var s;return 0===arguments.length?(s=this.selection.data("select2-data"),s==e&&(s=null),s):void(t&&""!==t?(s=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:s})):this.clear(i))}}),R=I(P,{createContainer:function(){var e=t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var s=[];t.find(":selected").each2(function(t,e){s.push(i.optionToData(e))}),e(s)}:"data"in e&&(e.initSelection=e.initSelection||function(i,s){var a=o(i.val(),e.separator),r=[];e.query({matcher:function(i,s,o){var l=t.grep(a,function(t){return n(t,e.id(o))}).length;return l&&r.push(o),l},callback:t.isFunction(s)?function(){for(var t=[],i=0;i<a.length;i++)for(var o=a[i],l=0;l<r.length;l++){var c=r[l];if(n(o,e.id(c))){t.push(c),r.splice(l,1);break}}s(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},initContainer:function(){var e=".select2-choices",i;this.searchContainer=this.container.find(".select2-search-field"),this.selection=i=this.container.find(e);var s=this;this.selection.on("mousedown",".select2-search-choice",function(e){s.search[0].focus(),s.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+D()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var e=i.find(".select2-search-choice-focus"),s=e.prev(".select2-search-choice:not(.select2-locked)"),n=e.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(e.length&&(t.which==O.LEFT||t.which==O.RIGHT||t.which==O.BACKSPACE||t.which==O.DELETE||t.which==O.ENTER)){var a=e;return t.which==O.LEFT&&s.length?a=s:t.which==O.RIGHT?a=n.length?n:null:t.which===O.BACKSPACE?(this.unselect(e.first()),this.search.width(10),a=s.length?s:n):t.which==O.DELETE?(this.unselect(e.first()),this.search.width(10),a=n.length?n:null):t.which==O.ENTER&&(a=null),this.selectChoice(a),f(t),void(a&&a.length||this.open())}if((t.which===O.BACKSPACE&&1==this.keydowns||t.which==O.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(i.find(".select2-search-choice:not(.select2-locked)").last()),void f(t);if(this.selectChoice(null),this.opened())switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void f(t);case O.ENTER:return this.selectHighlighted(),void f(t);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(t),void f(t)}if(t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.BACKSPACE&&t.which!==O.ESC){if(t.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==O.PAGE_UP&&t.which!==O.PAGE_DOWN||f(t),t.which===O.ENTER&&f(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",e,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",e,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var t;if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var i=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==e&&null!==t&&(i.updateSelection(t),i.close(),i.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var s=[],n=[],o=this;t(e).each(function(){i(o.id(this),s)<0&&(s.push(o.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var s=!i.locked,n=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?n:o,r=this.id(i),l=this.getVal(),c,h;c=this.opts.formatSelection(i,a.find("div"),this.opts.escapeMarkup),c!=e&&a.find("div").replaceWith("<div>"+c+"</div>"),h=this.opts.formatSelectionCssClass(i,a.find("div")),h!=e&&a.addClass(h),s&&a.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",i),a.insertBefore(this.searchContainer),l.push(r),this.setVal(l)},unselect:function(t){var e=this.getVal(),s,n;if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";s=t.data("select2-data"),s&&(n=i(this.id(s),e),n>=0&&(e.splice(n,1),this.setVal(e),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}))},postprocessResults:function(t,e,s){var n=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;o.each2(function(t,e){var s=r.id(e.data("select2-data"));i(s,n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),this.highlight()==-1&&s!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&x(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,i,s,n,o=a(this.search);t=m(this.search)+10,e=this.search.offset().left,i=this.selection.width(),s=this.selection.offset().left,n=i-(e-s)-o,n<t&&(n=i-o),n<40&&(n=i-o),n<=0&&(n=t),this.search.width(n)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),o(t,this.opts.separator))},setVal:function(e){var s;this.select?this.select.val(e):(s=[],t(e).each(function(){i(this,s)<0&&s.push(this)}),this.opts.element.val(0===s.length?"":s.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var s=0;s<t.length;s++)n(this.opts.id(e[i]),this.opts.id(t[s]))&&(e.splice(i,1),i--,t.splice(s,1),s--);return{added:e,removed:t}},val:function(i,s){var n,o=this,a;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(s&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),s&&o.triggerChange(this.buildChangeDetails(n,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var s=this,n,o;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(o=this.data(),e||(e=[]),n=t.map(e,function(t){return s.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),t.fn.select2=function(){var s=Array.prototype.slice.call(arguments,0),n,o,a,r,l,c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],h=["val","opened","isFocused","container","data"],d={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])n=0===s.length?{}:t.extend({},s[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?l=n.element.prop("multiple"):(l=n.multiple||!1,"tags"in n&&(n.multiple=l=!0)),o=l?new R:new A,o.init(n);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(i(s[0],c)<0)throw"Unknown method: "+s[0];if(r=e,o=t(this).data("select2"),o===e)return;if(a=s[0],"container"===a?r=o.container:"dropdown"===a?r=o.dropdown:(d[a]&&(a=d[a]),r=o[a].apply(o,s.slice(1))),i(s[0],h)>=0)return!1}}),r===e?this:r},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,s){var n=[];return w(t.text,i.term,n,s),n.join("")},formatSelection:function(t,i,s){return t?s(t.text):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return e},formatSelectionCssClass:function(t,i){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:y,tags:S},util:{debounce:c,markMatch:w,escapeMarkup:b},class:{abstract:P,single:A,multi:R}}}}(t)}).call(e,i(1))},246:function(t,e,i){var s,n,o;!function(a){n=[i(1)],s=a,o="function"==typeof s?s.apply(e,n):s,!(void 0!==o&&(t.exports=o))}(function(t){"undefined"==typeof t.fn.wSpinner&&t.fn.extend({wSpinner:function(e){function i(){e.incrementElement||e.decrementElement?(d=t(e.incrementElement),u=t(e.decrementElement)):(c=t('<div class="'+e.className+'" />').addClass(e.theme),h=t('<div class="'+e.className+'-controls" />'),d=t('<a class="'+e.className+'-up" />'),u=t('<a class="'+e.className+'-down" />'),h.append(d,u),l.wrap(c).addClass(e.className+"-input").parent().append(h).css({height:e.height||"auto"})),l.on({keypress:function(t){var e=t.keyCode||t.which;return!!(e>47&&e<58||8===e||9===e||37===e||39===e||t.metaKey)},keydown:function(e){var i=t(e.currentTarget);38===e.which?n(i):40===e.which&&o(i)},blur:function(t){var e=t.currentTarget;e.getAttribute("data-max")&&parseInt(e.value)>parseInt(e.getAttribute("data-max"))?e.value=e.getAttribute("data-max"):""===e.value&&(e.value=1)},change:function(e){var i=t(e.currentTarget);r(i)&&a()}}),d.on({click:function(t){clearInterval(p),n(l)},mousedown:function(e){t(e.currentTarget).addClass("wsite-active"),p=setInterval(function(){n(l)},250),e.preventDefault()},mouseup:function(t){s(t.currentTarget)},mouseout:function(t){s(t.currentTarget)}}),u.on({click:function(t){clearInterval(p),o(l)},mousedown:function(e){t(e.currentTarget).addClass("wsite-active"),p=setInterval(function(){o(l)},250),e.preventDefault()},mouseup:function(t){s(t.currentTarget)},mouseout:function(t){s(t.currentTarget)}})}function s(e){t(e).removeClass("wsite-active"),clearInterval(p)}function n(t){if(!t.is(":disabled")){var i=parseInt(t.val());isNaN(i)&&e.defaultVal&&(i=e.defaultVal);var s=i+e.interval;t.val(Math.min(s,parseInt(t.attr("data-max"))||e.max)).focus(),a()}}function o(t){if(!t.is(":disabled")){var i=parseInt(t.val());isNaN(i)&&e.defaultVal&&(i=e.defaultVal);var s=i-e.interval;t.val(Math.max(s,parseInt(t.data("data-min"))||e.min)).focus(),a()}}function a(){e.onChange&&e.onChange.call(l[0])}function r(t){if(t.is(":disabled"))return!1;var i=parseInt(t.val());return isNaN(i)?(i=void 0!=e.defaultVal?e.defaultVal:e.min,t.val(i)):i<parseInt(t.attr("data-min")||e.min)?t.val(e.min):i>parseInt(t.attr("data-max")||e.max)&&t.val(e.max),!0}var l,c,h,d,u,p,f={className:"wsite-spinner",height:void 0,min:1,max:1/0,theme:"light",interval:1};return e=t.extend(f,e),this.each(function(e,s){l=t(s),"INPUT"===s.nodeName&&i()}),this},wControlSpinner:function(e){e=e||{},this.each(function(){var i=t(this),s=t.extend({},e);s.incrementElement=i.parent().find(".spinner-inc"),s.decrementElement=i.parent().find(".spinner-dec"),s.defaultVal=14,i.wSpinner(s)})}})})},249:function(t,e,i){var s=i(1);!function(t){var e;return t.event.fix=function(t){return function(e){return e=t.apply(this,arguments),0!==e.type.indexOf("copy")&&0!==e.type.indexOf("paste")||(e.clipboardData=e.originalEvent.clipboardData),e}}(t.event.fix),e={callback:t.noop,matchType:/image.*/},t.fn.pasteImageReader=function(i){return"function"==typeof i&&(i={callback:i}),i=t.extend({},e,i),this.each(function(){var e,s;return s=this,e=t(this),e.bind("paste",function(t){var e,n;if(n=!1,e=!!t.clipboardData&&t.clipboardData,e!==!1)return Array.prototype.forEach.call(e.types,function(t,o){var a,r;if(!n)return t.match(i.matchType)||e.items[o].type.match(i.matchType)?(a=e.items[o].getAsFile(),r=new FileReader,r.onload=function(t){return i.callback.call(s,{dataURL:t.target.result,event:t,file:a,name:a.name})},r.readAsDataURL(a),n=!0):void 0})})})}}(s)}});