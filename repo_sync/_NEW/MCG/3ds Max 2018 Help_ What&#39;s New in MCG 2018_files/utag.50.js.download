//tealium universal tag - utag.50 ut4.0.201805242011, Copyright 2018 Tealium.com Inc. All Rights Reserved.
(function webAnalyticsCrossDomainSolutionForTealiumlessSupport(){if(typeof window.utag==="undefined"){var errLogFlag=false;if(document.location.search.indexOf('debug-tealiumless-check')>-1)errLogFlag=true;window._adskGdprData=null;window._adskGdprDataSuccess=window._adskGdprDataSuccess||false;window._adskGdprNoData=window._adskGdprNoData||false;window._adskGdprDataTimeout=window._adskGdprDataTimeout||false;window._adskGdpr_v1=window._adskGdpr_v1||{fired_success:false,fired_timeout:false,fired_nodata:false};window._adskGdprDataSuccessQueue=window._adskGdprDataSuccessQueue||[];window._adskGdprNoDataQueue=window._adskGdprNoDataQueue||[];window._adskGdprDataTimeoutQueue=window._adskGdprDataTimeoutQueue||[];try{function ObservableArray(e){function t(e){e in r||Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){return i[e]},set:function(t){i[e]=t,n({type:"itemset",index:e,item:t})}})}function n(e){l[e.type].forEach(function(t){t.call(r,e)})}var r=this,i=[],l={itemadded:[],itemremoved:[],itemset:[]};Object.defineProperty(r,"addEventListener",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t){if(!((e=(""+e).toLowerCase())in l))throw new Error("Invalid event name.");if("function"!=typeof t)throw new Error("Invalid handler.");l[e].push(t)}}),Object.defineProperty(r,"removeEventListener",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t){if(!((e=(""+e).toLowerCase())in l))throw new Error("Invalid event name.");if("function"!=typeof t)throw new Error("Invalid handler.");for(var n=l[e],r=n.length;--r>=0;)n[r]===t&&n.splice(r,1)}}),Object.defineProperty(r,"push",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var e,r=0,l=arguments.length;r<l;r++)e=i.length,i.push(arguments[r]),t(e),n({type:"itemadded",index:e,item:arguments[r]});return i.length}}),Object.defineProperty(r,"pop",{configurable:!1,enumerable:!1,writable:!1,value:function(){if(i.length>-1){var e=i.length-1,t=i.pop();return delete r[e],n({type:"itemremoved",index:e,item:t}),t}}}),Object.defineProperty(r,"unshift",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var e=0,r=arguments.length;e<r;e++)i.splice(e,0,arguments[e]),t(i.length-1),n({type:"itemadded",index:e,item:arguments[e]});for(;e<i.length;e++)n({type:"itemset",index:e,item:i[e]});return i.length}}),Object.defineProperty(r,"shift",{configurable:!1,enumerable:!1,writable:!1,value:function(){if(i.length>-1){var e=i.shift();return delete r[i.length],n({type:"itemremoved",index:0,item:e}),e}}}),Object.defineProperty(r,"splice",{configurable:!1,enumerable:!1,writable:!1,value:function(e,l){var a,o=[];for(e=null==e?0:e<0?i.length+e:e,l=null==l?i.length-e:l>0?l:0;l--;)a=i.splice(e,1)[0],o.push(a),delete r[i.length],n({type:"itemremoved",index:e+o.length-1,item:a});for(var u=2,f=arguments.length;u<f;u++)i.splice(e,0,arguments[u]),t(i.length-1),n({type:"itemadded",index:e,item:arguments[u]}),e++;return o}}),Object.defineProperty(r,"length",{configurable:!1,enumerable:!1,get:function(){return i.length},set:function(e){var t=Number(e),n=i.length;if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<n?r.splice(t):t>n&&r.push.apply(r,new Array(t-n)),i.length=t,e}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in r||Object.defineProperty(r,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),e instanceof Array&&r.push.apply(r,e)};function openArrayUpForPostFiring(whichArr){try{window[whichArr]=new ObservableArray(window[whichArr]);window[whichArr].addEventListener("itemadded",function(e){var method=e.item;if(typeof method==="function")method();window[whichArr].shift();});}catch(err){if(errLogFlag){console.warn(">>> TEALIUM GDPR SUPPORT SCRIPT WARNING (below) <<<");console.warn(">>>  issue with UTAG.50.JS version 2 execution  <<<");console.warn(">>> "+err.message);}}};function fireMethodsInArray(whichArr){try{for(var i=0;i<window[whichArr].length;i+=1){var method=window[whichArr].shift();if(typeof method==="function"){method();}}}catch(err){if(errLogFlag){console.warn(">>> TEALIUM GDPR SUPPORT SCRIPT WARNING (below) <<<");console.warn(">>>  issue with UTAG.50.JS version 2 execution  <<<");console.warn(">>> "+err.message);}}};}catch(err){if(errLogFlag){console.warn(">>> TEALIUM GDPR SUPPORT SCRIPT WARNING (below) <<<");console.warn(">>>  issue with UTAG.50.JS version 2 execution  <<<");console.warn(">>> "+err.message);}}
function checkCookie(n){for(var t=n+"=",e=document.cookie.split(";"),r=0;r<e.length;r++){for(var i=e[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return!1};var domPs=document.location.hostname.split('\.'),rooty=domPs[domPs.length-2]+'\.'+domPs[domPs.length-1];function setCookie(e,n,o){void 0===o&&(o=null);var t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3);var a=null===o?"":"expires="+t.toUTCString(),d=encodeURIComponent(n);document.cookie=e+"="+d+"; "+a+";domain="+rooty+";path=/";};var resourcePathMatch="utag.50.js",defaultTimeOut=3000,wadsFailTimer=defaultTimeOut;function exposeFoundData(rawOpts,setCookieFlag){var opts=rawOpts.split('|'),setCookieFlag=setCookieFlag||false;for(var b=0;b<opts.length;b+=1){var currOption=parseInt((opts[b].split(':'))[1]);if(currOption===0){if(opts[b].indexOf('c2')>-1)window.adskGdprAnalytics=true;if(opts[b].indexOf('c3')>-1)window.adskGdprCommunication=true;if(opts[b].indexOf('c4')>-1)window.adskGdprFeedback=true;if(opts[b].indexOf('c5')>-1)window.adskGdprAdvertising=true;if(opts[b].indexOf('c6')>-1)window.adskGdprTroubleshooting=true;}}
if(setCookieFlag)setCookie('OPTOUTMULTI',rawOpts,null);if(window._adskGdprDataSuccess){if(typeof window._adskGdprDataSuccess==="function"){if(!window._adskGdpr_v1.fired_success){window._adskGdpr_v1.fired_success=true;window._adskGdprDataSuccess();}}}
fireMethodsInArray('_adskGdprDataSuccessQueue');openArrayUpForPostFiring('_adskGdprDataSuccessQueue');};function getTimeoutValue(){try{var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.indexOf(resourcePathMatch)>-1){var pa=scripts[i].src.split("?").pop().split("&");var p={};for(var j=0;j<pa.length;j++){var kv=pa[j].split("=");if(kv[0]==='timeout'){return parseInt(kv[1]);}}}}
return defaultTimeOut;}catch(err){return defaultTimeOut;}}
wadsFailTimer=getTimeoutValue();var _iFrameIsReady=false,delay=10;function postWadsCommand(command){if(_iFrameIsReady){var iframeWin=document.getElementById("waf-wads-win").contentWindow;iframeWin.postMessage(command,"*");}
else if(wadsFailTimer<=0){window._adskGdprData='timeout';if(window._adskGdprDataTimeout){if(typeof window._adskGdprDataTimeout==="function"){if(!window._adskGdpr_v1.fired_timeout){window._adskGdpr_v1.fired_timeout=true;window._adskGdprDataTimeout();}}}
fireMethodsInArray('_adskGdprDataTimeoutQueue');openArrayUpForPostFiring('_adskGdprDataTimeoutQueue');}
else{wadsFailTimer-=delay;setTimeout(function(){postWadsCommand(command)},delay);}}
function runWads(){if(window.addEventListener){addEventListener("message",wadsListener,false);}
else{attachEvent("onmessage",wadsListener);}
var adsWin=document.createElement("iframe");adsWin.width="0px";adsWin.height="0px";adsWin.id="waf-wads-win";adsWin.setAttribute("src","https://damassets.autodesk.com/content/dam/autodesk/privacy/wads.html");var attachWadsTo=document.head||document.body;attachWadsTo.appendChild(adsWin);postWadsCommand('get-base-data-tealium-less');}
function wadsListener(event){var command=event.data;var frameReady=command==="ads-frame-ready"?true:false,gdprConsentData=typeof command['tealiumless-gdpr-base-data']!=="undefined"?command['tealiumless-gdpr-base-data']:false,noGdprData=typeof command['tealiumless-no-gdpr-data']!=="undefined"?true:false;if(frameReady){_iFrameIsReady=true;}
else if(noGdprData){window._adskGdprData='none';if(window._adskGdprNoData){if(typeof window._adskGdprNoData==="function"){if(!window._adskGdpr_v1.fired_nodata){window._adskGdpr_v1.fired_nodata=true;window._adskGdprNoData();}}}
fireMethodsInArray('_adskGdprNoDataQueue');openArrayUpForPostFiring('_adskGdprNoDataQueue');}
else if(gdprConsentData){window._adskGdprData='found';var wadsOptInSelections=decodeURIComponent(command['tealiumless-gdpr-base-data']['selections']);exposeFoundData(wadsOptInSelections,true);}
else{return;}};var optOutCookieFound=checkCookie("OPTOUTMULTI");if(optOutCookieFound){window._adskGdprData='found';exposeFoundData(decodeURIComponent(optOutCookieFound));}else{runWads();}}})();